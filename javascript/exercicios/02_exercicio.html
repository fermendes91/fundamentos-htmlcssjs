<!doctype html>

<html>

<head>
    <meta charset="utf-8">
    <title>Exercicio 02</title>

    <h1>Exercicio referente a aula 02_funcoes.html até a aula 07 de funções</h1>
    <h2>Crie uma função que retorne o indice de massa corporal <br>
        Crie outra função que receba este indice e retorne uma string informando <br>
        sua classificação.

        IMC = peso / altura²
    </h2>
    <script>
        (function () {
            'use strict' //uma das funcionalidades é não deixar criar variavel sem a palavra VAR.
            calculaIMC();

            function calculaIMC() {
                try {
                    var imc = 0;
                    var altura = Number(prompt('Informe a sua altura'));
                    var peso = Number(prompt('Informe o seu peso'));

                    if(altura && peso) {
                        imc = (peso / (altura^2));

                        alert(imprimiClassificacao(imc));
                    }else {
                        alert('Falha ao recuperar valores, tente novamente');
                        calculaIMC();
                    }

                    return imc;
                }catch(e) {
                    console.error('ERRO nos valores solicitados, ' + e);
                }
            }

            function imprimiClassificacao(imc) {

                if(imc <= 16.9){
                    return 'Muito abaixo do peso: ' + imc.toFixed(2) + ' kg/m²';
                } else if (imc > 17 && imc <= 18.4 ){
                    return 'Abaixo do peso: ' + imc.toFixed(2) + ' kg/m²';
                } else if (imc > 18.5 && imc <= 24.9 ){
                    return 'Peso normal: ' + imc.toFixed(2) + ' kg/m²';
                } else if(imc > 25 && imc <= 29.9) {
                    return 'Acima do Peso: '+ imc.toFixed(2) + ' kg/m²';
                } else if (imc > 30 && imc <= 34.9 ){
                    return 'Obesidade de Grau I: ' + imc.toFixed(2) + ' kg/m²';
                } else if (imc > 35 && imc <= 40 ){
                    return 'Obesidade de Grau II: ' + imc.toFixed(2) + ' kg/m²';
                } else {
                    return 'Obesidade de Grau III: ' + imc.toFixed(2) + ' kg/m²';
                }

            }

        })();
    </script>

</head>

<body>

</body>

</html>